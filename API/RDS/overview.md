# Cloud Database RDS


## 简介
At present, RDS OpenAPI supports SQL Server service, which can realize database management, account management, backup management, cloud on single database and other functions through OpenAPI, and will support cloud MySQL sevice later.


### 版本
v1


## API
|接口名称|请求方式|功能描述|
|---|---|---|
|**createAccount**|POST|Create a database account. The user can use the client, application, etc. to log in to the RDS database instance through the account and password. <br>For ease of management and recovery, RDS restricts accounts. Database accounts can only be created, deleted, and authorized by the console or OpenAPI. Users cannot perform related operations on accounts through SQL statements.|
|**createAudit**|POST|It enables the database audit function of SQL Server and currently supports instance\-level database audit. Users can enable and disable the audit function, customize audit policies, and download audit files as needed. The audit file is a native SQL Server audit file and is saved for 6 months by default. <br>\- Support SQL Server Only|
|**createBackup**|POST|Creating a full backup of the RDS instance can be fully backed up for the entire instance or part of the database (SQL Server supports only). At the same time, there is only be one running backup task can work<br>\- Support SQL Server only|
|**createDatabase**|POST|Create a Database. For instance management and data restoration, RDS restricts user permissions, and users can only create databases through the console or this interface.|
|**createInstance**|POST|Create an RDS instance and the user can use the corresponding database client or application to link to the RDS instance through the domain name and port to operate.|
|**deleteAccount**|DELETE|Delete the database account. After the account is deleted, it cannot be restored and the user cannot use this account to log in the RDS instance.|
|**deleteAudit**|DELETE|Disable Database Audit. After the database audit is disabled, the previously generated audit result files are not deleted immediately. The audit result files will be automatically deleted by the system after the expiration date. The default expiration time is 6 months<br>\- Support SQL Server Only|
|**deleteBackup**|DELETE|Deletes the RDS instance backup. Only the user\-generated backups are allowed to be deleted and the system automatic backups are not allow to be deleted.|
|**deleteDatabase**|DELETE|Delete the database from the RDS instance. For management and data restoration, RDS controls user permissions. Users can only delete databases through the console or this interface.</br>敏感操作，可开启<a href="https://www.jdcloud.com/help/detail/3786/isCatalog/1">MFA操作保护</a>|
|**deleteInstance**|DELETE|Delete an RDS Instance or a read\-only instance of MySQL. When the primary instance of MySQL is deleted, the corresponding read\-only instance of MySQL is also deleted</br>敏感操作，可开启<a href="https://www.jdcloud.com/help/detail/3786/isCatalog/1">MFA操作保护</a>|
|**describeAccounts**|GET|View all account information in an RDS instance, including the account name, access rights to each database, etc.|
|**describeAudit**|GET|View the audit options of the current instance that have been enabled. If no audit option is enabled for the current instance, it returns an empty array<br>\- Support SQL Server Only|
|**describeBackupDownloadURL**|GET|Obtain the download link of the entire backups or  a single file in the backup. <br>\- When there is a file name in the input parameter, obtain the download link of the file. <br>\- When there is no file name in the input parameter, obtain the download link of the entire backups. <br>Due to the difference of backup mechanism, when using this interface to download backups, SQL Server must input the file name, and each file is downloaded one by one. It does not support downloading the entire backup. The file name (excluding the suffix) in the SQL Server backup is the database name of the backup. For example, the file name is my_test_db.bak, indicating that the file is a backup of the my_test_db database. <br>MySQL can download the entire backup set, but does not support the download of a single file. <br>\- Support SQL Server Only|
|**describeBackups**|GET|View the detailed information of all backups in the RDS instance. The returned backup list is sorted in descending order from start time of backup (backupStartTime). <br>\- Support SQL Server Only|
|**describeDatabases**|GET|Obtain a list of all database details for the current instance|
|**describeErrorLogs**|GET|Obtain error log of SQL Server and download information<br>\- only support SQL Server|
|**describeImportFiles**|GET|Obtain the list of files uploaded by the user to the instance through cloud on single database<br>\- only support SQL Server|
|**describeIndexPerformance**|POST|Obtain statistics on index performance based on user\-defined query conditions, and provide missing indexes and suggestions for index creation. Users can use these information to find index\-related performance bottlenecks and optimize them. <br>\- Support SQL Server Only|
|**describeInstanceAttributes**|GET|Query the details of the RDS instance (MySQL, SQL Server, etc.) and the MySQL read\-only instance details|
|**describeInstances**|GET|Obtain the summary information about all RDS instances and MySQL read\-only instances under the current account, such as instance type family, version, billing information, etc.|
|**describeQueryPerformance**|POST|Obtain the information of performance statistics of SQL execution, such as slow SQL, etc. based on user\-defined query conditions. Based on this information, users can find and optimize performance bottlenecks related to SQL execution. <br>\- Support SQL Server Only|
|**describeWhiteList**|GET|View the current whitelist of RDS instances. The whitelist is a list of IP/IP segments that are allowed to access the current instance. By default, the whitelist is open to the VPC. If the user has enabled the internet access, you need to configure a whitelist for the IP of the internet.|
|**disableInternetAccess**|POST|Disable the internet access function of the RDS instance. After the disabling, users cannot access the RDS through the Internet, but can access the domain name through the intranet domain in JD Cloud|
|**enableInternetAccess**|POST|Enable the internet access function of the RDS instance. After enabling, users can access RDS instances through the internet|
|**failoverInstance**|POST|Perform a RDS Instance Failover. <br>Note: If the instance is being backed up, the failover will terminate the backup operation. You can view the start time of backup in the backup policy to see whether a backup is running. If you need to perform the failover during the instance backup, you are advised to perform a full instance backup manually<br>for SQL Server, within 30 minutes of failover, restore/create by time point is not supported. For example, the user performs the failover at 10:05, then the time period from 10:05 to 10:35 cannot be restored/created. <br>\- Support SQL Server Only|
|**getAuditDownloadURL**|POST|Obtain the download link of a certain audit file, support both the internal and external links which are valid for 24 hours <br>\- Support SQL Server Only|
|**getAuditFiles**|POST|Obtain the list of all audit result files under current instance<br>\- Support SQL Server Only|
|**getAuditOptions**|POST|Get the audit options and corresponding recommended options for the various database versions supported by the current system<br>\- Support SQL Server Only|
|**getBackupPolicy**|POST|View the backup policy of the RDS instance. The supported backup policies are slightly different depending on the types of database. For details, please refer to the detailed description in the returned parameters<br>\- only support SQL Server|
|**getUploadKey**|POST|Obtain the required key for uploading files from cloud on single database. Cloud on single database needs the correct key value to connect to JD Cloud<br>\- only support SQL Server|
|**grantPrivilege**|POST|Grant the database access privilege to the account, i.e., the privilege the account has to the database. An account can have access to multiple databases. <br>For ease of management, RDS classifies the privileges. Currently, it provides the following two privileges<br>\- ro: Read\-only privilege, with which, the user can only read the data in the database, and cannot perform creation, insertion, deletion, change, etc. <br>\- rw: Read\-write privilege, with which, the user can perform addition, deletion, change and other operations on the database<br>\-Support SQL Server Only|
|**modifyAudit**|POST|Modify Current Audit Options. Currently available audit options are available through describeAudit, and all supported options are available through getAuditOptions. <br>\- Support SQL Server Only|
|**rebootInstance**|POST|Reboot the RDS instance. For example, after modifying some configuration parameters, you need to reboot the instance to take effect. You can combine the failover function to reboot the standby machine to reduce the impact on the service<br>**Note: If the instance is being backed up, rebooting the primary instance will terminate the backup operation. ** You can view the start time of backup in the backup policy to see whether a backup is running. If you need to reboot the primary instance during the instance backup, you are advised to perform a full instance backup manually after rebooting.|
|**resetPassword**|POST|Reset Database Account Password. If the user forgets the password of the account, he/she can use this interface to reset the specified account password. After the password is reset, the previous password will not be available and you must log in or connect to the database instance with the new password after the reset.|
|**restoreDatabaseFromBackup**|POST|Restore the single database from backup, and support recovery from backups of other instances (but must be instances under the same account). For example, you can restore from a backup of a database instance in a production environment to a database in a test environment. <br>\- Support SQL Server Only|
|**restoreDatabaseFromFile**|POST|Restore a single database from the backup file uploaded by the user to the cloud through the cloud on single database<br>\- only support SQL Server|
|**restoreDatabaseFromOSS**|POST|Restore a single database from the backup file uploaded to OSS<br> \- only support SQL Server|
|**restoreInstance**|POST|Restore and replace the current instance by using the full backup of the instance<br>\- only support MySQL|
|**setImportFileShared**|POST|Set or cancel whether the uploaded file is shared to other instances under the same account. By default, files are only visible and can be imported on the uploaded instance. Other instances are not visible and cannot be imported. If you need this file to be imported on other instances, you can set this file to share<br>\- only support SQL Server|
|**setInstanceName**|POST|Modify the instance name to support Chinese. The specific rules for the instance name can be found in the Help Center document: [Name and Password Restrictions] (../../../documentation/Cloud\-Database\-and\-Cache/RDS/Introduction /Restrictions/SQLServer\-Restrictions.md)<br>\-  Support SQL Server Only|
